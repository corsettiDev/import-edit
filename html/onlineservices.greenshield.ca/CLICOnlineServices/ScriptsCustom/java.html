var agent = navigator.userAgent.toLowerCase();
var ns = (document.layers) ? true : false
var ie = (document.all) ? true : false
var isOpera = (agent.indexOf("opera") != -1);

function autoTab(srcCtrl, len, nextCtrlID, e) {
    var keyCode = (isOpera || ie ? e.keyCode : e.which);
    var filter;

    if (isOpera || ie)
        filter = [0, 8, 9, 16, 17, 18, 37, 38, 39, 40, 46];
    else if (ns)
        filter = [0, 8, 9];

    if (srcCtrl.value.length >= len && !containsElement(filter, keyCode)) {
        srcCtrl.value = srcCtrl.value.slice(0, len);
        document.getElementById(nextCtrlID).focus();
    }

    function containsElement(arr, ele) {
        var found = false, index = 0;

        while (!found && index < arr.length)
            if (arr[index] == ele)
                found = true;
            else
                index++;

        return found;
    }

    return true;
}